---
registry_host_fqdn: '{{ vault_registry_host_fqdn }}'
local_repository: 'openshift4/custom-operators'

openshift_cli: '/usr/bin/oc'
ocp_cluster_user: '{{ vault_ocp_cluster_user }}'
ocp_cluster_user_password: '{{ vault_ocp_cluster_user_password }}'
ocp_cluster_console_url: '{{ vault_ocp_cluster_console_url }}'
ocp_cluster_console_port: '6443'
use_operator_template: 'false'

staging_dir: '/tmp'
disconnected_operatorhub_config: 'patched-operatorhub.yml'
disconnected_catalog_source_config: 'catalog-source-config.yml'

configure_disconnected_OLM: 'false'

operator_catalogs_to_deploy:
  redhat-operators:
    catalog_name: 'custom-redhat-operator-catalog'
    catalog_index: 'redhat-operator-index'
    catalog_index_tag: 'v4.7'
    catalog_publisher: 'redhat'
    content_source_file: '/path/to/redhat-operator-index-manifests/imageContentSourcePolicy.yaml'
    mirror: "true"
  community-operators:
    catalog_name: 'community-redhat-operator-catalog'
    catalog_index: 'community-operator-index'
    catalog_index_tag: 'latest'
    catalog_publisher: 'community'
    content_source_file: '/path/to/community-operator-index-manifests/imageContentSourcePolicy.yaml'
    mirror: "true"
  market-operators:
    catalog_name: ''
    catalog_index: ''
    catalog_index_tag: ''
    catalog_publisher: ''
    content_source_file: ''
    mirror: "false"
  certified-operators:
    catalog_name: 'certified-redhat-operator-catalog'
    catalog_index: 'certified-operator-index'
    catalog_index_tag: 'v4.7'
    catalog_publisher: 'certified'
    content_source_file: '/path/to/certified-operator-index-manifests/imageContentSourcePolicy.yaml'
    mirror: "false"

operators_to_deploy:
  group-sync-operator:
    group_name: 'group-sync-operator-group'
    catalog_name: 'community-redhat-operator-catalog'
    sub_channel: 'alpha'
    deploy_namespace: 'group-sync-operator'  ## used for where the operator is deployed
    target_namespace: 'group-sync-operator'  ## used for the scope of operator
    deploy_namespace_description: 'group-sync-operator'
    deploy: 'false'
    create_namespace: 'false'
    create_catalog: 'false'
    create_catalog_group: 'false'

  file-integrity-operator:
    group_name: 'file-integrity-operator-group'
    catalog_name: 'custom-redhat-operator-catalog'
    sub_channel: '4.7'
    deploy_namespace: 'openshift-file-integrity'
    target_namespace: 'openshift-file-integrity' ### values are all, empty or list of ns names
    deploy_namespace_description: 'openshift-file-integrity'
    deploy: 'false'
    create_namespace: 'false'
    create_catalog: 'false'
    create_catalog_group: 'true'
    index_image: 'redhat-operator-index'
    index_image_tag: 'v4.7'

  compliance-operator:
    group_name: 'compliance-operator-group'
    catalog_name: 'custom-redhat-operator-catalog'
    sub_channel: '4.7'
    deploy_namespace: 'openshift-compliance'
    target_namespace: 'openshift-compliance'
    deploy_namespace_description: 'openshift-compliance'
    deploy: 'false'
    create_namespace: 'false'
    create_catalog: 'false'
    create_catalog_group: 'true'
    index_image: 'redhat-operator-index'
    index_image_tag: 'v4.7'

  koku-metrics-operator:
    group_name: 'koku-metrics-operator-group'
    catalog_name: 'community-redhat-operator-catalog'
    sub_channel: 'alpha'
    deploy_namespace: 'koku-metrics-operator' ### values are all, empty or list of ns names
    target_namespace: 'koku-metrics-operator'
    deploy_namespace_description: 'koku-metrics-operator'
    deploy: 'false'
    create_namespace: 'true'
    create_catalog: 'false'
    create_catalog_group: 'true'
    index_image: 'community-operator-index'
    index_image_tag: 'latest'

  namespace-configuration-operator:
    group_name: 'namespace-configuration-operator-group'
    catalog_name: 'community-redhat-operator-catalog'
    sub_channel: 'alpha'
    target_namespace: 'all' ### values are all, empty or list of ns names
    deploy_namespace: 'namespace-configuration-operator'
    deploy_namespace_description: 'namespace-configuration-operator'
    deploy: 'false'
    create_namespace: 'true'
    create_catalog: 'false'
    create_catalog_group: 'true'
    index_image: 'community-operator-index'
    index_image_tag: 'latest'

  elasticsearch-operator:
    group_name: 'elasticsearch-operator-group'
    catalog_name: 'custom-redhat-operator-catalog'
    sub_channel: '5.0'
    deploy_namespace: 'openshift-operators-redhat'
    target_namespace: 'all' ### values are all, empty or list of ns names
    deploy_namespace_description: 'openshift-operators-redhat'
    deploy: 'false'
    patch_namespace: 'true'
    patch_namespace_labels: '{"openshift.io/cluster-monitoring": "true"}'
    create_namespace: 'true'
    create_catalog: 'false'
    create_catalog_group: 'true'
    index_image: 'redhat-operator-index'
    index_image_tag: 'v4.7'
    create_rolebinding: 'true'
    rolebindingconfig: 'templates/elasticsearch-rolebinding.yml'

  cluster-logging:
    group_name: 'cluster-logging-operator-group'
    catalog_name: 'custom-redhat-operator-catalog'
    sub_channel: '5.0'
    deploy_namespace: 'openshift-logging'
    target_namespace: 'openshift-logging'  ### values are all, empty or list of ns names
    deploy_namespace_description: 'openshift-logging'
    deploy: 'false'
    patch_namespace: 'true'
    patch_namespace_labels: '{"openshift.io/cluster-monitoring": "true", "openshift.io/cluster-logging": "true"}'
    create_namespace: 'true'
    create_catalog: 'false'
    create_catalog_group: 'true'
    index_image: 'redhat-operator-index'
    create_customresource: 'true'
    customresource_template: 'templates/cluster-logging-customresource.yml.j2'
    es_node_count: 3
    es_pv_size: '200G'
    es_storageclass: ''
    es_maxage_app: '1d'
    es_maxage_infra: '7d'
    es_maxage_audit: '7d'
    es_memory: '32Gi'
    es_proxy_memory_request: '1Gi'
    es_proxy_memory_limit: '1Gi'
    es_apply_toleration: 'true'
    es_apply_nodeselector: 'true'

  costmanagement-metrics-operator:
    group_name: 'costmanagement-metrics-operator-group'
    catalog_name: 'custom-redhat-operator-catalog'
    sub_channel: 'stable'
    csv_version: 'costmanagement-metrics-operator.1.1.0'
    deploy_namespace: 'costmanagement-metrics-operator'
    target_namespace: 'costmanagement-metrics-operator' ### values are all, empty or list of ns names
    deploy_namespace_description: 'costmanagement-metrics-operator'
    deploy: 'true'
    create_namespace: 'true'
    create_catalog: 'false'
    create_catalog_group: 'true'
    index_image: 'redhat-operator-index'
    index_image_tag: 'v4.7'

  jupyterlab-operator:
    group_name: 'jupyterlab-operator-group'
    catalog_name: 'community-redhat-operator-catalog'
    sub_channel: 'stable'
    csv_version: 'jupyterlab-operator.v1.0.0'
    deploy_namespace: 'openshift-operators'
    target_namespace: 'all' ### values are all, empty or list of ns names
    deploy_namespace_description: 'jupyterlab-operator'
    deploy: 'true'
    create_namespace: 'false'
    create_catalog: 'false'
    create_catalog_group: 'false'

  keycloak-operator:
    group_name: 'keycloak-operator-group'
    catalog_name: 'community-redhat-operator-catalog'
    sub_channel: 'alpha'
    csv_version: 'keycloak-operator.v13.0.1'
    deploy_namespace: 'keycloak-operator'
    target_namespace: 'keycloak-operator' ### values are all, empty or list of ns names
    deploy_namespace_description: 'keycloak-operator'
    deploy: 'true'
    create_namespace: 'true'
    create_catalog: 'false'
    create_catalog_group: 'true'

  rhsso-operator:
    group_name: 'rhsso-operator-group'
    catalog_name: 'custom-redhat-operator-catalog'
    sub_channel: 'alpha'
    csv_version: 'rhsso-operator.7.4.9'
    deploy_namespace: 'rhsso-operator'
    target_namespace: 'rhsso-operator' ### values are all, empty or list of ns names
    deploy_namespace_description: 'rhsso-operator'
    deploy: 'true'
    create_namespace: 'true'
    create_catalog: 'false'
    create_catalog_group: 'true'
    index_image: 'redhat-operator-index'
    index_image_tag: 'v4.7'

  rhacs-operator:
    group_name: 'rhacs-operator-group'
    catalog_name: 'custom-redhat-operator-catalog'
    sub_channel: 'latest'
    deploy_namespace: 'openshift-operators-redhat'
    target_namespace: 'all' ### values are all, empty or list of ns names
    deploy_namespace_description: 'openshift-operators-redhat'
    deploy: 'true'
    create_namespace: 'false'
    create_catalog: 'false'
    create_catalog_group: 'true'
    index_image: 'redhat-operator-index'
    index_image_tag: 'v4.7'

  advanced-cluster-management:
    group_name: 'advanced-cluster-management-group'
    catalog_name: 'custom-redhat-operator-catalog'
    sub_channel: 'release-2.3'
    deploy_namespace: 'open-cluster-management'
    target_namespace: 'open-cluster-management' ### values are all, empty or list of ns names
    deploy_namespace_description: 'open-cluster-management'
    deploy: 'false'
    create_namespace: 'true'
    create_catalog: 'false'
    create_catalog_group: 'true'
    index_image: 'redhat-operator-index'

  cincinnati-operator:  ### name of the operator as it was used to mirror the operator
    group_name: 'openshift-update-service-group'
    catalog_name: 'custom-cincinnati-operator'  ### metadata.name from rh-catalog-source-artifactory.yaml file
    sub_channel: 'v1'
    deploy_namespace: 'openshift-update-service'
    target_namespace: 'openshift-update-service' ### values are all, empty or list of ns names
    deploy_namespace_description: 'openshift-update-service'
    patch_namespace: 'true'
    patch_namespace_labels: '{"openshift.io/cluster-monitoring": "true"}'
    patch_namespace_annotations: '{"openshift.io/node-selector": ""}'
    deploy: 'false'
    create_namespace: 'true'
    create_catalog: 'false'
    create_catalog_group: 'true'
    index_image: 'cincinnati-operator-index'   ### metadata.name from the olm-icsp-artifactory.yaml file

################## Infra nodes configuration #################################
infra_taint_value: 'reserved'
infranodes:
  infra-az1:
    aws_region: 'us-east-1'
    aws_az: 'a'
    role: 'infra'
    type: 'infra'
    sg: 'worker'     ### using the worker sg but we could have added an infra sg and use it
    profile: 'worker'     ### using the worker sg but we could have added an infra sg and use it
    replica_count: 1
    block_size: 120
    volume_type: gp2
    instance_type: 'm5.4xlarge'
    ami: 'ami-0d5f9982f029fbc14'
  infra-az2:
    aws_region: 'us-east-1'
    aws_az: 'b'
    role: 'infra'
    type: 'infra'
    sg: 'worker'     ### using the worker sg but we could have added an infra sg and use it
    profile: 'worker'     ### using the worker sg but we could have added an infra sg and use it
    replica_count: 1
    block_size: 120
    volume_type: gp2
    instance_type: 'm5.4xlarge'
    ami: 'ami-0d5f9982f029fbc14'
  infra-az3:
    aws_region: 'us-east-1'
    aws_az: 'c'
    role: 'infra'
    type: 'infra'
    sg: 'worker'     ### using the worker sg but we could have added an infra sg and use it
    profile: 'worker'     ### using the worker sg but we could have added an infra sg and use it
    replica_count: 1
    block_size: 120
    volume_type: gp2
    instance_type: 'm5.4xlarge'
    ami: 'ami-0d5f9982f029fbc14'
vpc_name: ''
relocate_ingress_controller: 'true'
relocate_image_registry: 'true'
relocate_monitoring: 'true'
relocate_logging: 'true'

### Cluster Admins
cluster_admins:
  -
  -


#### keycloak config variables
identity_claim: "{{ vault_identity_claim }}"
client_ID: "{{ vault_client_ID }}"
keycloak_secret: "{{ vault_client_secret }}"
keycloak_secret_name: "{{ vault_identity_claim }}"
issuer_url: "{{ vault_issuer_url }}"


####### banner related vairables
banner_name: 'classification-banner'
banner_text: 'UNCLASSIFIED'
banner_color: '#ffffff'
banner_background_color: '#006400'
banner_location: 'BannerTopBottom'
banner_link: ''

######## hardening compliance operator vars
remediate_compliance_scan: 'true'
configure_compliance_scan: 'true'
auto_create_remediation: 'true'
auto_apply_remediate: 'true'
enable_auto_remediate: 'false'
compliance_scan_schedule: '0 1 * * *'
compliance_name: 'nist-moderate'
platform_node_profile_name: 'rhcos4-nist-moderate-node'
platform_profile_name: 'ocp4-nist-moderate'

#####################################################################################################
# End of hardening compliance operator variables
#####################################################################################################


######## hardening fileintegrity operator vars
configure_fileintegrity: 'true'

#####################################################################################################
# End of hardening fileintegrity operator variables
#####################################################################################################

######## hardening auditd config vars
make_audit_data_retention_space_left: 'true'
audit_data_retention_space_left: '1000'
make_audit_data_retention_space_left_action: 'true'
audit_data_retention_space_left_action: 'EMAIL'
make_audit_data_retention_admin_space_left_action: 'true'
audit_data_retention_admin_space_left_action: 'SUSPEND'
make_audit_data_disk_full_action: 'true'
audit_data_disk_full_action: 'SUSPEND'
make_audit_data_disk_error_action: 'true'
audit_data_disk_error_action: 'SUSPEND'

make_audit_rules_immutable: 'true'
make_audit_kernel_module_loading_delete: 'true'
make_audit_kernel_module_loading_finit: 'true'
make_audit_kernel_module_loading_init: 'true'
make_audit_mac_modification: 'true'
make_audit_privileged_commands: 'true'
make_audit_session_events: 'true'
make_audit_sysadmin_actions: 'true'
make_audit_time_adjtimex: 'true'
make_audit_time_clock_settime: 'true'
make_audit_time_settimeofday: 'true'
make_audit_time_stime: 'true'
make_audit_time_watch_localtime: 'true'
make_audit_unsuccessful_file_modification_open_by_handle: 'true'
make_audit_unsuccessful_file_modification_open_rule_order: 'true'
make_audit_unsuccessful_file_modification_openat_rule_order: 'true'
make_directory_access_var_log_audit: 'true'
auditd_conf_path: '/etc/audit/auditd.conf'
auditd_rule_conf_path: '/etc/audit/rules.d/audit.rules'
fips_enabled: 'true'
audit_rules_apply_all: 'true'
make_audit_usergroups_actions: 'true'
make_audit_discretionary_access_control_commands: 'true'
make_audit_unsuccessful_ownership_permissions_modification: 'true'
make_audit_unsuccessful_delete_actions: 'true'
make_audit_unsuccessful_access: 'true'

#####################################################################################################
# End of hardening auditd variables
#####################################################################################################

######## Upstream DNS Config vars
upstream_dns_servers:
  my-sso:
    zones:
      -
      -
    upstream_ips:
      -
      -

#####################################################################################################
# End of Upstream DNS Config variables
#####################################################################################################


######## MTU Config vars
ignition_config_version: '3.2.0'
mtu_config_path: '/etc/NetworkManager/dispatcher.d/30-mtu'
fips_enabled: 'true'
node_mtu: '1450'
default_iface: 'ens5'

#####################################################################################################
# End of MTU Config variables
#####################################################################################################

#####################################################################################################
# Oauth Timeout Config variables
#####################################################################################################

oauthclients_to_update:
  oauthserver:
    update: false
    name: 'cluster'
    timeout: '15m'
     maxage: '1800'
  console-client:
    update: true
    name: 'console'
    timeout: '300'
    client_secret: ''
    console_url: ''
    oath_server_url: ''
  browser-client:
    update: false
    name: 'openshift-challenging-client'
    timeout: '300'
    client_secret: ''
    console_url: ''
    oath_server_url: ''
  challenging-client:
    update: false
    name: 'openshift-browser-client'
    timeout: '300'
    client_secret: ''
    console_url: ''
    oath_server_url: ''

#####################################################################################################
# End of Oauth Timeout Config variables
#####################################################################################################


#################################
# Ingress Controller Custom Certificate Variables
##################################
add_custom_ca_ingess: 'false'
ingress_ca_cm_name: ''
ingress_cert_file: ''
ingress_cert_key_file: ''
add_custom_ca_bundle: 'false'
custom_ca_bundle_file: ''

#################################
# End Ingress Controller Custom Certificate Variables
##################################

#################################
#  API Server Custom Certificate Variables
##################################
cluster_api_fqdn: ''
add_custom_cert_api: 'false'
api_cert_file: ''
api_cert_key_file: ''
update_kubeconfig: 'false'
kubeconfig_file: ''
original_ca_file: ''
merged_ca_file: ''
extracted_custom_ca_file: ''

#################################
# End API Server Custom Certificate Variables
##################################

###################################
#  Cluster logout config variables
###################################
use_console_logout: true
### The following is the uri for the logout uri as defined in the openid connect . 
#For example when defining client in keycloak the logout uri could be configure to be /console/logout
# That is then appended to the base uri to get the logout path for that client.
openid_console_logout_uri: ''   

###################################
# end Cluster logout config variables
###################################

###################################
#  Export Scan Results config variables
###################################

scan_results_export_image: 'registry.redhat.io/compliance/oc-compliance-rhel8'
scan_results_binary_dir: '/usr/local/bin'
scan_results_binary_path: '{{ scan_results_binary_dir }}/oc-compliance'
dir_scan_result_export: '/tmp/scan-results'
scan_settingbindings_name: 'nist-moderate'
unpack_scan_arf: true

###################################
# end Export Scan Results config variables
###################################

###################################
# OpenShift Update Service config variables
###################################
update_graphdata_application_name: 'update-service'
update_service_namespace: 'openshift-update-service'
graphdata_replicas: 1
current_ocp_release_channel: 'stable-4.7'
trust_ingress_ca: 'false'
existing_ca_bundle_cm_name: 'default-ingress-cert'
existing_ca_bundle_cm_namespace: 'openshift-config-managed'
new_ca_bundle_cm_name: 'default-ingress-cert-ca'
new_ca_bundle_cm_namespace: 'openshift-config'
create_new_ca_bundle_cm: 'true'
new_ca_bundle_cm_file: '/tmp/default-ingress-ca.crt'
update_new_ca_bundle_cm_namespace: 'true'
existing_ca_bundle_cert_key: ''
new_ca_bundle_cert_key: ''
registry_ca_file: ''

###################################
# end OpenShift Update Service config variables
###################################


#####################################################################################################
# End of user configurable variables
#####################################################################################################
